import{r as o,j as e,Y as w}from"./app-DM-y8oy4.js";import{A as N,C as b}from"./AuthenticatedLayout-C3A1EUe7.js";import{C as h,a as y,b as u}from"./card-BvaaXfYT.js";import{P as C}from"./index-BXrqN9aj.js";import"./toast-CVRs_JVZ.js";import"./createLucideIcon-c5AOdRZc.js";var R="AspectRatio",p=o.forwardRef((m,r)=>{const{ratio:i=1/1,style:a,...n}=m;return e.jsx("div",{style:{position:"relative",width:"100%",paddingBottom:`${100/i}%`},"data-radix-aspect-ratio-wrapper":"",children:e.jsx(C.div,{...n,ref:r,style:{...a,position:"absolute",top:0,right:0,bottom:0,left:0}})})});p.displayName=R;var A=p;const E=A;function $({user:m,menu:r}){const i=o.useRef([]),[a,n]=o.useState(0),v=t=>{var l;i.current[t]&&((l=i.current[t])==null||l.scrollIntoView({behavior:"smooth",block:"start"}))},c=()=>{const t=document.getElementById("menu-item-container");if(!t)return;let l=0,s=a;i.current.forEach((x,j)=>{if(x){const d=x.getBoundingClientRect(),g=Math.min(d.bottom,t.offsetHeight)-Math.max(d.top,0),f=Math.max(g,0)*d.width;f>l&&(l=f,s=j)}}),s!==a&&n(s)};return o.useEffect(()=>{const t=document.getElementById("menu-item-container");if(t)return t.addEventListener("scroll",c),()=>{t.removeEventListener("scroll",c)}},[]),e.jsxs(N,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Menu"}),children:[e.jsx(w,{title:"Menu"}),e.jsxs("div",{id:"menu-container",className:"w-full h-full flex",children:[e.jsx("div",{id:"menu-category-container",className:"h-full w-1/4 overflow-y-auto",style:{overscrollBehavior:"contain"},children:r.map((t,l)=>e.jsx("div",{className:`w-full p-4 cursor-pointer ${a===l?"bg-gray-200":""}`,onClick:()=>v(l),children:e.jsxs("div",{className:"flex flex-col gap-2 items-center justify-center",children:[e.jsx(b,{}),e.jsx("div",{className:"h-full",children:e.jsx("div",{className:"shadow-none border-none",children:e.jsx("p",{className:"text-xs text-nowrap",children:t.title.replace(/[\u4e00-\u9fa5]/g,"")})})})]})},t.id))}),e.jsx("div",{id:"menu-item-container",className:"h-full w-3/4 p-2 flex flex-col gap-2 overflow-y-auto overflow-ellipsis",style:{overscrollBehavior:"contain"},onScroll:c,children:r.map((t,l)=>e.jsxs("div",{className:"flex flex-col gap-2",ref:s=>i.current[l]=s,children:[e.jsx("p",{className:"px-4 py-2 rounded-md shadow text-xl font-semibold mt-2 bg-white",children:t.title}),t.items.length!==0?t.items.map(s=>e.jsx(h,{className:"h-32 w-full p-4 bg-white",children:e.jsxs("div",{className:"size-full flex gap-2 items-center justify-center",children:[e.jsx("div",{className:"w-28",children:e.jsx(E,{ratio:1/1,children:e.jsx("img",{src:s.image,alt:s.title,className:"w-full h-full rounded-md object-cover"})})}),e.jsxs(h,{className:"h-full w-full flex flex-col justify-between shadow-none border-none",children:[e.jsxs(y,{className:"text-sm text-wrap",children:[s.title,e.jsx(u,{className:"text-[0.5rem] text-wrap",children:s.description})]}),e.jsxs(u,{className:"text-sm text-wrap text-end",children:["RM ",s.price]})]})]})},s.id)):e.jsx("p",{className:"text-gray-500",children:"No items available"})]},t.id))})]})]})}export{$ as default};
