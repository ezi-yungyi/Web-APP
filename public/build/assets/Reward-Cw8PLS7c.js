import{r as m,j as e,Y as ie}from"./app-DM-y8oy4.js";import{T as v,A as ne}from"./AuthenticatedLayout-C3A1EUe7.js";import{a as ce,u as re,P as C,d as S,g as oe,e as I}from"./index-BXrqN9aj.js";import{c as $,R as de,I as xe}from"./index-_zI8gevu.js";import{u as me}from"./index-PHw5nAXF.js";import{u as fe}from"./Combination-DVLYXFxg.js";import{C as j,c as p,d as E,a as h,b as w}from"./card-BvaaXfYT.js";import{S as M,a as P,b as g,c as O,d as ue}from"./sheet-x633e0HI.js";import{B as N}from"./button-DBOqfNRQ.js";import{D as F,a as he,b as H,d as L,e as G,f as b,c as B}from"./dialog-mrABGEva.js";import{D as je}from"./DangerButton-DYWUofE3.js";import{c as pe}from"./createLucideIcon-c5AOdRZc.js";import{A as Ne,Q as ge}from"./index-D9hX_eoA.js";import"./toast-CVRs_JVZ.js";import"./index-BxIVpdSj.js";/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=pe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var A="Tabs",[be,He]=ce(A,[$]),K=$(),[ve,z]=be(A),V=m.forwardRef((a,l)=>{const{__scopeTabs:t,value:i,onValueChange:c,defaultValue:s,orientation:n="horizontal",dir:x,activationMode:d="automatic",...f}=a,r=me(x),[o,u]=re({prop:i,onChange:c,defaultProp:s});return e.jsx(ve,{scope:t,baseId:fe(),value:o,onValueChange:u,orientation:n,dir:r,activationMode:d,children:e.jsx(C.div,{dir:r,"data-orientation":n,...f,ref:l})})});V.displayName=A;var Q="TabsList",X=m.forwardRef((a,l)=>{const{__scopeTabs:t,loop:i=!0,...c}=a,s=z(Q,t),n=K(t);return e.jsx(de,{asChild:!0,...n,orientation:s.orientation,dir:s.dir,loop:i,children:e.jsx(C.div,{role:"tablist","aria-orientation":s.orientation,...c,ref:l})})});X.displayName=Q;var Y="TabsTrigger",J=m.forwardRef((a,l)=>{const{__scopeTabs:t,value:i,disabled:c=!1,...s}=a,n=z(Y,t),x=K(t),d=Z(n.baseId,i),f=q(n.baseId,i),r=i===n.value;return e.jsx(xe,{asChild:!0,...x,focusable:!c,active:r,children:e.jsx(C.button,{type:"button",role:"tab","aria-selected":r,"aria-controls":f,"data-state":r?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:d,...s,ref:l,onMouseDown:S(a.onMouseDown,o=>{!c&&o.button===0&&o.ctrlKey===!1?n.onValueChange(i):o.preventDefault()}),onKeyDown:S(a.onKeyDown,o=>{[" ","Enter"].includes(o.key)&&n.onValueChange(i)}),onFocus:S(a.onFocus,()=>{const o=n.activationMode!=="manual";!r&&!c&&o&&n.onValueChange(i)})})})});J.displayName=Y;var W="TabsContent",y=m.forwardRef((a,l)=>{const{__scopeTabs:t,value:i,forceMount:c,children:s,...n}=a,x=z(W,t),d=Z(x.baseId,i),f=q(x.baseId,i),r=i===x.value,o=m.useRef(r);return m.useEffect(()=>{const u=requestAnimationFrame(()=>o.current=!1);return()=>cancelAnimationFrame(u)},[]),e.jsx(oe,{present:c||r,children:({present:u})=>e.jsx(C.div,{"data-state":r?"active":"inactive","data-orientation":x.orientation,role:"tabpanel","aria-labelledby":d,hidden:!u,id:f,tabIndex:0,...n,ref:l,style:{...a.style,animationDuration:o.current?"0s":void 0},children:u&&s})})});y.displayName=W;function Z(a,l){return`${a}-trigger-${l}`}function q(a,l){return`${a}-content-${l}`}var we=V,ee=X,se=J,ae=y;const ye=we,le=m.forwardRef(({className:a,...l},t)=>e.jsx(ee,{ref:t,className:I("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a),...l}));le.displayName=ee.displayName;const R=m.forwardRef(({className:a,...l},t)=>e.jsx(se,{ref:t,className:I("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a),...l}));R.displayName=se.displayName;const D=m.forwardRef(({className:a,...l},t)=>e.jsx(ae,{ref:t,className:I("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...l}));D.displayName=ae.displayName;function Ce({userPoint:a,image:l="",title:t="",description:i="",termsAndCondition:c="",requiredPoints:s,minimunSpend:n,className:x="",disabled:d}){const[f,r]=m.useState(!1);return e.jsxs("div",{className:` rounded-xl p-0.5 ${d?"opacity-50 cursor-not-allowed":"hover:bg-gray-400 focus:bg-gray-400 active:bg-gray-900"} focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2`+x,"aria-disabled":d,children:[e.jsxs(j,{className:`w-full flex flex-col select-none ${d?"":"cursor-pointer"}`,onClick:()=>d?"":r(!0),children:[e.jsx(p,{className:"w-full flex justify-center items-center",children:e.jsx("div",{className:"size-10 flex justify-center items-center",children:l!=""?e.jsx("img",{src:l,alt:""}):e.jsx(v,{size:100})})}),e.jsxs(E,{className:"px-4 py-2 overflow-hidden",children:[e.jsx(h,{className:"text-lg text-nowrap overflow-hidden text-ellipsis",children:t}),e.jsx(w,{className:"text-nowrap overflow-hidden text-ellipsis",children:i}),e.jsxs(w,{className:"mt-1 flex gap-1 items-center",children:[e.jsx("span",{className:"text-base",children:s}),e.jsx("span",{className:"text-xs",children:"points"})]})]})]}),e.jsx(M,{open:f,onOpenChange:r,children:e.jsx(P,{side:"bottom",className:"w-full px-6 py-4 flex flex-col h-5/6 rounded-t-2xl duration-150",children:e.jsxs(g,{className:"size-full p-6 pb-12",children:[e.jsx(O,{children:e.jsx(N,{className:"top-0 right-0 absolute m-6 p-2",children:e.jsx(U,{})})}),e.jsxs(g,{className:"flex flex-col justify-between text-start overflow-y-auto",children:[e.jsx("div",{className:"h-28 flex items-center justify-center",children:l!=""?e.jsx("img",{src:l,alt:"",className:"max-h-28"}):e.jsx(v,{size:100})}),e.jsx("div",{className:"w-full flex flex-col justify-start",children:e.jsx("span",{className:"text-lg font-semibold",children:t})}),e.jsxs("div",{className:"",children:[e.jsx("h4",{className:"font-bold",children:"Description"}),e.jsx("p",{children:i})]}),e.jsxs("div",{className:"",children:[e.jsx("h4",{className:"font-bold",children:"Terms and Conditions"}),e.jsx("ul",{className:"list-disc list-inside text-sm",children:c})]}),e.jsxs("div",{className:"",children:[e.jsx("h4",{className:"font-bold",children:"Minimun Spend"}),e.jsxs("p",{children:["RM ",n]})]}),e.jsxs("div",{className:"",children:[e.jsx("h4",{className:"font-bold",children:"Required Points"}),e.jsxs("p",{children:[s," Points"]})]})]}),e.jsxs(F,{children:[e.jsx(he,{className:"w-full absolute bottom-0 left-0 p-6",children:e.jsx(N,{disabled:a<s,className:`w-full ${a>=s?"cursor-pointer":"cursor-none"}`,children:a>=s?"Redeem Now":"No Enough Point"})}),e.jsxs(H,{className:"w-11/12 rounded-lg",children:[e.jsxs(L,{children:[e.jsxs(G,{children:['Redeem "',t,'"']}),e.jsxs(b,{children:["You will be deduct ",s," points"]}),e.jsxs(b,{children:[a," - ",s," ="," ",a-s]}),e.jsxs(b,{children:["Point remain ",a-s]})]}),e.jsxs("div",{className:"w-full mt-6 flex flex-col gap-2",children:[e.jsx(N,{disabled:a<s,className:"h-12 w-full cursor-pointer",children:"Confirm"}),e.jsx(B,{className:"w-full",children:e.jsx(je,{className:"w-full cursor-pointer flex items-center justify-center",children:"Cancel"})})]})]})]})]})})})]})}function Te({userID:a="",voucherID:l="",image:t="",title:i="",description:c="",termsAndCondition:s="",redeemed_date:n="",valid_until:x="",voucherStatus:d="",minimunSpan:f,className:r="",disabled:o}){const[u,k]=m.useState(!1),[_,T]=m.useState("code");return e.jsxs("div",{className:` rounded-xl p-0.5 ${o?"opacity-50 cursor-not-allowed":"hover:bg-gray-400 focus:bg-gray-400 active:bg-gray-900"} focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2`+r,"aria-disabled":o,children:[e.jsxs(j,{className:"w-full flex select-none cursor-pointer",onClick:()=>k(!0),children:[e.jsx(p,{className:"flex justify-center items-center",children:e.jsx("div",{className:"size-10 flex justify-center items-center",children:t!=""?e.jsx("img",{src:t,alt:""}):e.jsx(v,{size:100})})}),e.jsxs(E,{className:"px-4 py-2 overflow-hidden",children:[e.jsx(h,{className:"text-lg",children:i}),e.jsx(w,{className:"text-nowrap overflow-hidden text-ellipsis",children:c}),e.jsx(w,{className:"mt-1 flex gap-1 items-center",children:e.jsxs("span",{className:"text-xs",children:[d==="expire"?"Expire on ":"Valid Until"," ",x]})})]})]}),e.jsx(M,{open:u,onOpenChange:k,children:e.jsx(P,{side:"bottom",className:`h-full w-full px-6 py-4 flex flex-col ${_==="full"?"h-full":"h-5/6 rounded-t-2xl duration-150"}`,children:e.jsxs(V,{value:_,onValueChange:te=>T(te),className:"size-full flex flex-col",children:[e.jsx(y,{value:"code",className:"size-full",children:e.jsxs(g,{className:"size-full p-6 pb-12",children:[e.jsx(O,{children:e.jsx(N,{className:"top-0 right-0 absolute m-6 p-2",children:e.jsx(U,{})})}),e.jsxs(g,{className:"flex flex-col justify-between text-start overflow-y-auto",children:[e.jsx("div",{className:"h-28 flex items-center justify-center",children:t!=""?e.jsx("img",{src:t,alt:"",className:"max-h-28"}):e.jsx(v,{size:100})}),e.jsx("div",{className:`${d==="expire"?"text-red-500":"text-green-500"} font-semibold`,children:d}),e.jsx("div",{className:"w-full flex flex-col justify-start",children:e.jsx("span",{className:"text-lg font-semibold",children:i})}),e.jsxs("div",{className:"",children:[e.jsx("h4",{className:"font-bold",children:"Description"}),e.jsx("p",{children:c})]}),e.jsxs("div",{className:"",children:[e.jsx("h4",{className:"font-bold",children:"Terms and Conditions"}),e.jsx("ul",{className:"list-disc list-inside text-sm",children:s})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("p",{className:"text-md font-medium flex gap-1 justify-between",children:[e.jsx("h4",{className:"font-bold",children:"Received Date:"}),e.jsx("p",{className:"text-sm",children:n})]}),e.jsxs("p",{className:"text-md font-medium flex gap-1 justify-between",children:[e.jsx("h4",{className:"font-bold",children:"Valid Until:"}),e.jsx("p",{className:"text-sm",children:x})]})]})]}),e.jsx("div",{className:"w-full absolute bottom-0 left-0 p-6",children:e.jsx(N,{className:"w-full",onClick:()=>T("full"),children:"Use Now"})})]})}),e.jsxs(y,{value:"full",className:"h-full flex flex-col gap-2",children:[e.jsxs(g,{className:"h-12 flex flex-row items-center justify-between",children:[e.jsx("span",{onClick:()=>T("code"),children:e.jsx(Ne,{})}),e.jsx(ue,{className:"",children:"Voucher"}),e.jsx("p",{className:"size-6 mt-2"})]}),e.jsxs("div",{className:"size-full flex flex-col justify-center items-center",children:[e.jsx("span",{className:"mb-2 font-bold",children:"Show this to staff"}),e.jsx(j,{className:"w-fit shadow-lg",children:e.jsx(p,{className:"flex flex-row text-center justify-between items-center",children:e.jsx(h,{className:"self-center",children:e.jsx(ge,{value:l+" : "+a,size:250})})})}),e.jsxs("span",{className:"mt-2 font-thin text-[0.5rem]",children:["@ ",l]})]})]})]})})})]})}function Le({user:a,reward:l,redeemedReward:t}){const[i,c]=m.useState(!1);return e.jsxs(ne,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Rewards"}),children:[e.jsx(ie,{title:"Rewards"}),e.jsx(j,{className:"m-2",onClick:()=>c(!0),children:e.jsxs(p,{className:"flex flex-row text-center justify-between",children:[e.jsx(h,{className:"self-center",children:"Points"}),e.jsxs(h,{className:"self-center",children:[a.data.membership.points," Points"]})]})}),e.jsx(F,{open:i,onOpenChange:c,children:e.jsxs(H,{className:"size-11/12 rounded-lg",children:[e.jsx(L,{className:"h-fit",children:e.jsx(G,{children:"Points History"})}),e.jsx(j,{className:"w-full h-fit",children:e.jsxs(p,{className:"flex flex-row text-center justify-between",children:[e.jsx(h,{className:"self-center",children:"Points"}),e.jsxs(h,{className:"self-center",children:[a.data.membership.points," Points"]})]})}),e.jsx(b,{className:"h-full"}),e.jsx(B,{className:" h-fit w-full",children:e.jsx(N,{className:"w-full",children:"Close"})})]})}),e.jsx(j,{className:"m-2",children:e.jsx(p,{className:"flex flex-row items-center gap-4",children:e.jsxs(ye,{defaultValue:"redeemRewards",className:"w-full",children:[e.jsxs(le,{className:"w-full fade-in-out duration-150",children:[e.jsx(R,{className:"w-full",value:"redeemRewards",children:"Redeem Rewards"}),e.jsx(R,{className:"w-full",value:"myRewards",children:"My Rewards"})]}),e.jsx(D,{value:"redeemRewards",children:l.map((s,n)=>e.jsx("div",{className:"w-full grid grid-cols-2 gap-2",children:e.jsx("div",{className:"w-full ",children:e.jsx(Ce,{userPoint:a.data.membership.points,image:s.imagePath,title:s.title,description:s.description,termsAndCondition:s.termsAndConditions,requiredPoints:s.requiredPoints,minimunSpend:s.minimunSpend})})}))}),e.jsx(D,{value:"myRewards",children:t.map((s,n)=>e.jsx("div",{className:"w-full flex flex-col gap-2",children:e.jsx("div",{className:"w-full",children:e.jsx(Te,{userID:a.data.id,voucherID:s.uuid,image:s.reward.imagePath,title:s.reward.title,description:s.reward.description,minimunSpan:s.reward.minimunSpend,redeemed_date:s.receivedDate,valid_until:s.validUntil,termsAndCondition:s.reward.termsAndConditions,voucherStatus:s.status})})}))})]})})})]})}export{Le as default};
